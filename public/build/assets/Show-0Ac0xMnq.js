import{r as l,j as s,H as x,L as c}from"./app-CtQDaI7d.js";import{A as n}from"./AuthenticatedLayout-BmdE4ikK.js";import"./transition-TUICTNyj.js";import"./HelpInjector-BfWS8fx6.js";import"./InfoIcon-CwQLPO0h.js";function N({sale:e}){const a=t=>Number(t??0).toFixed(2),i=l.useMemo(()=>Math.max(0,parseFloat(e.total||0)-parseFloat(e.amount_paid||0)),[e]),d=e.payment_status||(i<=0?"paid":parseFloat(e.amount_paid||0)>0?"partial":"credit"),r=d==="paid"?"bg-green-100 text-green-700":d==="partial"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700";return s.jsxs(n,{header:s.jsxs("h2",{className:"text-xl font-semibold",children:["Sale #",e.id]}),children:[s.jsx(x,{title:`Sale #${e.id}`}),s.jsx("div",{className:"mx-auto max-w-4xl p-6",children:s.jsxs("div",{className:"space-y-4 rounded bg-white p-6 shadow",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Customer"}),s.jsx("div",{className:"font-medium",children:e.customer?.name||"Walk-in"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Payment"}),s.jsxs("div",{className:"mt-1 flex items-center gap-2 justify-end",children:[s.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${r}`,children:d}),s.jsx("span",{className:"text-sm text-gray-500",children:e.payment_method||"â€”"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Subtotal"}),s.jsx("div",{className:"font-semibold",children:a(e.subtotal)})]}),s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Discount"}),s.jsxs("div",{className:"font-semibold",children:["-",a(e.discount)]})]}),s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Tax"}),s.jsx("div",{className:"font-semibold",children:a(e.tax)})]}),s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Grand Total"}),s.jsx("div",{className:"font-bold",children:a(e.total)})]})]}),s.jsx("div",{className:"mt-4 overflow-x-auto",children:s.jsxs("table",{className:"min-w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-2 py-2 text-left",children:"Item"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"Qty"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"Unit (Sold)"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"MSRP"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"Tax"}),s.jsx("th",{className:"px-2 py-2 text-right",children:"Total"})]})}),s.jsx("tbody",{children:e.items.map(t=>s.jsxs("tr",{className:"border-t",children:[s.jsx("td",{className:"px-2 py-2",children:t.product?.name}),s.jsx("td",{className:"px-2 py-2 text-right",children:t.quantity}),s.jsxs("td",{className:"px-2 py-2 text-right",children:[a(t.sold_unit_price??t.unit_price),t.is_discounted&&s.jsx("span",{className:"ml-1 text-xs text-red-600",children:"(disc)"})]}),s.jsx("td",{className:"px-2 py-2 text-right",children:a(t.original_unit_price)}),s.jsx("td",{className:"px-2 py-2 text-right",children:t.tax_amount}),s.jsx("td",{className:"px-2 py-2 text-right",children:a(t.total)})]},t.id))})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Amount Paid"}),s.jsx("div",{className:"font-semibold",children:a(e.amount_paid)})]}),s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Balance"}),s.jsx("div",{className:"font-semibold",children:a(i)})]}),s.jsxs("div",{className:"rounded border p-3",children:[s.jsx("div",{className:"text-xs text-gray-500",children:"Status"}),s.jsx("div",{children:s.jsx("span",{className:`mt-1 inline-block px-2 py-0.5 rounded text-xs ${r}`,children:d})})]})]}),s.jsx("div",{className:"mt-4 text-right",children:s.jsx(c,{href:route("sales.index"),className:"text-blue-600",children:"Back to Sales"})})]})})]})}export{N as default};

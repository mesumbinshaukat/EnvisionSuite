import{u as b,a as N,r as y,j as e,H as v,L as f}from"./app-BpbEyoxA.js";import{A as w}from"./AuthenticatedLayout-eYnlr3pS.js";import{L as _,C as L,a as C,b as S,P as k,c as D,p as E,d as A,e as H}from"./index-zdU4aQa0.js";import"./transition-GXVTtJgq.js";import"./HelpInjector-BdYANK49.js";import"./InfoIcon-BKj8MgZu.js";L.register(C,S,k,D,E,A,H);function R({auth:n,account:t,filters:i,transactions:m,totals:o,chart:d}){const{t:s,currency:l,date:x}=b(),{data:r,setData:c,get:h,processing:p}=N({from:i?.from||"",to:i?.to||""}),u=a=>{a.preventDefault(),h(route("accounts.show",t.id),{preserveState:!0,preserveScroll:!0})},j=y.useMemo(()=>({labels:d?.labels||[],datasets:(d?.datasets||[]).map(a=>({...a,tension:.25}))}),[d]);return e.jsxs(w,{user:n.user,children:[e.jsx(v,{title:`${s("account")} - ${t.name}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-xl font-semibold",children:[s("account"),": ",t.code," â€” ",t.name]}),e.jsx(f,{href:route("accounts.index"),className:"text-sm text-gray-600 hover:text-gray-800 underline",children:s("back")})]}),e.jsxs("form",{onSubmit:u,className:"bg-white shadow rounded p-4 grid md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:s("from")}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:r.from,onChange:a=>c("from",a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:s("to_label")}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:r.to,onChange:a=>c("to",a.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:s("apply")})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white p-4 shadow rounded",children:[e.jsx("div",{className:"mb-2 font-medium",children:s("trends_over_time")}),e.jsx(_,{data:j})]}),e.jsxs("div",{className:"bg-white p-4 shadow rounded",children:[e.jsx("div",{className:"mb-2 font-medium",children:s("balance")}),e.jsx("div",{className:"text-3xl font-semibold",children:l(o?.balance||0)}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s("account_type"),": ",e.jsx("span",{className:"capitalize",children:t.type})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[s("status"),": ",t.is_closed?s("closed"):s("open")]})]})]}),e.jsx("div",{className:"bg-white shadow rounded overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:s("date_label")}),e.jsx("th",{className:"px-4 py-2 text-left",children:s("memo")}),e.jsx("th",{className:"px-4 py-2 text-right",children:s("debit")||"Debit"}),e.jsx("th",{className:"px-4 py-2 text-right",children:s("credit")||"Credit"}),e.jsx("th",{className:"px-4 py-2 text-right",children:s("balance")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:m.map((a,g)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:x(a.date)}),e.jsx("td",{className:"px-4 py-2",children:a.memo}),e.jsx("td",{className:"px-4 py-2 text-right",children:l(a.debit)}),e.jsx("td",{className:"px-4 py-2 text-right",children:l(a.credit)}),e.jsx("td",{className:"px-4 py-2 text-right",children:l(a.balance)})]},g))})]})})]})]})}export{R as default};

import{u as h,j as e,H as m,L as i}from"./app-CbYj9284.js";import{A as p}from"./AuthenticatedLayout-DIkmjlaX.js";import{C as t}from"./Currency-i8JMpeXZ.js";import"./transition-Datl3Aea.js";function N({filters:a={},rows:l=[]}){const{data:r,setData:d,get:c,processing:x}=h({from:a.from||"",to:a.to||""}),n=s=>{s.preventDefault(),c(route("customers.history"))};return e.jsxs(p,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Customer History"}),children:[e.jsx(m,{title:"Customer History"}),e.jsxs("div",{className:"mx-auto max-w-7xl p-6 space-y-6",children:[e.jsxs("form",{onSubmit:n,className:"rounded bg-white p-4 shadow space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"From"}),e.jsx("input",{type:"date",value:r.from,onChange:s=>d("from",s.target.value),className:"w-full rounded border px-3 py-2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"To"}),e.jsx("input",{type:"date",value:r.to,onChange:s=>d("to",s.target.value),className:"w-full rounded border px-3 py-2"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{disabled:x,className:"rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50",children:"Apply"}),e.jsx(i,{href:route("customers.history"),className:"rounded border px-4 py-2",children:"Reset"})]})]}),e.jsx("div",{className:"rounded bg-white p-4 shadow overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"px-2 py-2",children:"Customer"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Sales Count"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Total Sales"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Total Receipts"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Outstanding"}),e.jsx("th",{className:"px-2 py-2",children:"Last Activity"}),e.jsx("th",{className:"px-2 py-2",children:"Actions"})]})}),e.jsxs("tbody",{children:[l.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-2 py-6 text-center text-gray-500",children:"No data"})}),l.map((s,o)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-2 py-2",children:s.name}),e.jsx("td",{className:"px-2 py-2 text-right",children:s.sales_count}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsx(t,{value:s.total_sales})}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsx(t,{value:s.total_receipts})}),e.jsx("td",{className:`px-2 py-2 text-right ${s.outstanding>0?"text-red-600":""}`,children:e.jsx(t,{value:s.outstanding})}),e.jsx("td",{className:"px-2 py-2",children:s.last_activity||"-"}),e.jsx("td",{className:"px-2 py-2",children:s.customer_id?e.jsx(i,{href:route("customers.ledger",s.customer_id),className:"text-indigo-600 hover:underline",children:"View Ledger"}):e.jsx("span",{className:"text-gray-400",children:"-"})})]},o))]})]})})]})]})}export{N as default};

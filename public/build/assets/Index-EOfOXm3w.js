import{u as o,j as e,H as p,L as j}from"./app-CtQDaI7d.js";import{A as g}from"./AuthenticatedLayout-BmdE4ikK.js";import{T as t}from"./InfoIcon-CwQLPO0h.js";import{C as a}from"./Currency-CszHn8AI.js";import"./transition-TUICTNyj.js";import"./HelpInjector-BfWS8fx6.js";function w({filters:d={},kpis:l={},recent:i=[],topAccounts:r=[]}){const{data:c,setData:n,get:x,processing:h}=o({from:d.from||"",to:d.to||""}),m=s=>{s.preventDefault(),x(route("ledger.index"))};return e.jsxs(g,{header:e.jsx("h2",{className:"text-xl font-semibold",children:"Ledger"}),children:[e.jsx(p,{title:"Ledger"}),e.jsxs("div",{className:"mx-auto max-w-7xl p-6 space-y-6",children:[e.jsxs("form",{onSubmit:m,className:"rounded bg-white p-4 shadow space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm text-gray-600 flex items-center gap-1",children:["From ",e.jsx(t,{text:"Filter entries from this date.",children:"i"})]}),e.jsx("input",{type:"date",value:c.from,onChange:s=>n("from",s.target.value),className:"w-full rounded border px-3 py-2"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm text-gray-600 flex items-center gap-1",children:["To ",e.jsx(t,{text:"Filter entries up to this date.",children:"i"})]}),e.jsx("input",{type:"date",value:c.to,onChange:s=>n("to",s.target.value),className:"w-full rounded border px-3 py-2"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{disabled:h,className:"rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700 disabled:opacity-50",children:"Apply Filters"}),e.jsx(j,{href:route("ledger.index"),className:"rounded border px-4 py-2",children:"Reset"})]})]}),e.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{className:"rounded bg-white p-4 shadow",children:[e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:["Cash on Hand ",e.jsx(t,{text:"All cash/till/petty cash accounts.",children:"i"})]}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:e.jsx(a,{value:l.cash_on_hand})})]}),e.jsxs("div",{className:"rounded bg-white p-4 shadow",children:[e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:["Bank Balance ",e.jsx(t,{text:"All bank/current/checking accounts.",children:"i"})]}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:e.jsx(a,{value:l.bank_balance})})]}),e.jsxs("div",{className:"rounded bg-white p-4 shadow",children:[e.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-1",children:["Credit (Payables) ",e.jsx(t,{text:"Liabilities such as payables and credit cards.",children:"i"})]}),e.jsx("div",{className:"mt-1 text-2xl font-semibold",children:e.jsx(a,{value:l.credit_balance})})]})]}),e.jsxs("section",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded bg-white p-4 shadow overflow-x-auto",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Recent Entries"}),e.jsx(t,{text:"Last 20 journal entries.",children:"i"})]}),e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"px-2 py-2",children:"Date"}),e.jsx("th",{className:"px-2 py-2",children:"Memo"})]})}),e.jsxs("tbody",{children:[i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:2,className:"px-2 py-6 text-center text-gray-500",children:"No entries"})}),i.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-2 py-2",children:s.date}),e.jsx("td",{className:"px-2 py-2",children:s.memo||"-"})]},s.id))]})]})]}),e.jsxs("div",{className:"rounded bg-white p-4 shadow overflow-x-auto",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Top Accounts"}),e.jsx(t,{text:"Accounts with largest movement in range.",children:"i"})]}),e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-left",children:[e.jsx("th",{className:"px-2 py-2",children:"Account"}),e.jsx("th",{className:"px-2 py-2",children:"Type"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Debit"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Credit"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Balance"})]})}),e.jsxs("tbody",{children:[r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-2 py-6 text-center text-gray-500",children:"No data"})}),r.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-2 py-2",children:s.name}),e.jsx("td",{className:"px-2 py-2 capitalize",children:s.type}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsx(a,{value:s.debit_sum})}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsx(a,{value:s.credit_sum})}),e.jsx("td",{className:`px-2 py-2 text-right ${Number(s.balance)<0?"text-red-600":""}`,children:e.jsx(a,{value:s.balance})})]},s.id))]})]})]})]})]})]})}export{w as default};

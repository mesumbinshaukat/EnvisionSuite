import{b as x,u,j as e,H as p,L as o}from"./app-BY2_RXAK.js";import{A as y}from"./AuthenticatedLayout-Bx35s1Fr.js";import"./transition-CRMZObkh.js";import"./HelpInjector-CKGuYAzS.js";import"./InfoIcon-CjmUhCtz.js";function g({auth:d,vendors:l}){const{t:a}=x(),{data:n,setData:r,post:c,processing:i,errors:s}=u({counterparty_type:"vendor",vendor_id:l?.[0]?.id??"",counterparty_name:"",direction:"lend",source:"cash",amount:"",date:new Date().toISOString().slice(0,10),note:""}),m=t=>{t.preventDefault(),c(route("money.loans.store"))};return e.jsxs(y,{user:d?.user,children:[e.jsx(p,{title:a("new_money_loan")}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold","data-help-key":"money_loans_create_title",children:a("record_money_loan")}),e.jsx(o,{href:route("money.loans.index"),className:"px-3 py-2 bg-gray-100 rounded",children:a("back")})]}),e.jsxs("form",{onSubmit:m,className:"bg-white p-4 rounded shadow space-y-4 max-w-2xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_counterparty_type",children:a("counterparty_type")}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:n.counterparty_type,onChange:t=>r("counterparty_type",t.target.value),children:[e.jsx("option",{value:"vendor",children:a("vendor")}),e.jsx("option",{value:"external",children:a("external_person")})]}),s.counterparty_type&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.counterparty_type})]}),n.counterparty_type==="vendor"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_vendor",children:a("vendor")}),e.jsx("select",{className:"w-full border rounded px-3 py-2",value:n.vendor_id??"",onChange:t=>r("vendor_id",t.target.value),children:(l||[]).map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),s.vendor_id&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.vendor_id})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_counterparty_name",children:a("external_person")}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:n.counterparty_name,onChange:t=>r("counterparty_name",t.target.value)}),s.counterparty_name&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.counterparty_name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_direction",children:a("direction")}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:n.direction,onChange:t=>r("direction",t.target.value),children:[e.jsx("option",{value:"lend",children:a("lend")}),e.jsx("option",{value:"borrow",children:a("borrow")})]}),s.direction&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.direction})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_source",children:a("source")}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:n.source,onChange:t=>r("source",t.target.value),children:[e.jsx("option",{value:"cash",children:a("cash")}),e.jsx("option",{value:"bank",children:a("bank")})]}),s.source&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.source})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_amount",children:a("amount")}),e.jsx("input",{type:"number",step:"0.01",min:"0",className:"w-full border rounded px-3 py-2",value:n.amount,onChange:t=>r("amount",t.target.value)}),s.amount&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.amount})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_date",children:a("date")}),e.jsx("input",{type:"date",className:"w-full border rounded px-3 py-2",value:n.date,onChange:t=>r("date",t.target.value)}),s.date&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.date})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1","data-help-key":"money_loans_note",children:a("note")}),e.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:3,value:n.note,onChange:t=>r("note",t.target.value)}),s.note&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:s.note})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-60",children:a("save")}),e.jsx(o,{href:route("money.loans.index"),className:"px-4 py-2 bg-gray-100 rounded",children:a("cancel")})]})]})]})]})}export{g as default};

import{r as i,j as e,H as n}from"./app-DUaT__wH.js";import{A as p}from"./AuthenticatedLayout-BRA9NZV-.js";import{B as o,C as h,a as m,b as y,g as j,d as u,e as g}from"./index-VzF1SlEN.js";import"./transition-7jmKK-Rq.js";import"./HelpInjector-BCvt9IJE.js";import"./InfoIcon-ISLSAj6V.js";h.register(m,y,j,u,g);function k({auth:r,products:t,movements:l}){const d=i.useMemo(()=>{const s=t.data||[],c=s.map(a=>a.name),x=s.map(a=>a.stock??0);return{labels:c,datasets:[{label:"Stock",data:x,backgroundColor:"rgba(16,185,129,0.5)"}]}},[t]);return e.jsxs(p,{user:r.user,children:[e.jsx(n,{title:"Inventory Report"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Inventory Report"}),e.jsx("div",{className:"bg-white p-4 rounded shadow",children:e.jsx(o,{data:d})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded shadow overflow-x-auto",children:[e.jsx("div",{className:"p-4 font-semibold",children:"Products"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"SKU"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Stock"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"In Shop"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Lent Out"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(t.data||[]).map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2",children:s.sku}),e.jsx("td",{className:"px-4 py-2",children:s.stock}),e.jsx("td",{className:"px-4 py-2",children:s.in_shop??Math.max(0,(s.stock??0)-(s.lent_out??0))}),e.jsx("td",{className:"px-4 py-2",children:s.lent_out??0})]},s.id))})]})]}),e.jsxs("div",{className:"bg-white rounded shadow overflow-x-auto",children:[e.jsx("div",{className:"p-4 font-semibold",children:"Recent Movements"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Date"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(l||[]).map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.product?.name??s.product_id}),e.jsx("td",{className:"px-4 py-2",children:s.type}),e.jsx("td",{className:"px-4 py-2",children:s.quantity_change}),e.jsx("td",{className:"px-4 py-2",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})]})]})]})]})}export{k as default};

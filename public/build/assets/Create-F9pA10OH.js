import{u as x,j as e,H as m,L as d}from"./app-Bvh6M5M7.js";import{A as p}from"./AuthenticatedLayout-DTKS6TOL.js";import"./transition-BkfdI6g1.js";function v({auth:o,products:n,shops:l}){const{data:s,setData:r,post:c,processing:i,errors:a}=x({product_id:n?.[0]?.id??"",quantity:1,counterparty_type:"shop",counterparty_shop_id:l?.[0]?.id??"",counterparty_name:"",notes:""}),u=t=>{t.preventDefault(),c(route("inventory.loans.store"))};return e.jsxs(p,{user:o?.user,children:[e.jsx(m,{title:"New Inventory Loan"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Record Inventory Loan"}),e.jsx(d,{href:route("inventory.loans.index"),className:"px-3 py-2 bg-gray-100 rounded",children:"Back"})]}),e.jsxs("form",{onSubmit:u,className:"bg-white p-4 rounded shadow space-y-4 max-w-2xl",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Product"}),e.jsx("select",{className:"w-full border rounded px-3 py-2",value:s.product_id,onChange:t=>r("product_id",t.target.value),children:(n||[]).map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.sku,") â€” Stock: ",t.stock??0]},t.id))}),a.product_id&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:a.product_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Quantity"}),e.jsx("input",{type:"number",min:"1",className:"w-full border rounded px-3 py-2",value:s.quantity,onChange:t=>r("quantity",t.target.value)}),a.quantity&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:a.quantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Counterparty Type"}),e.jsxs("select",{className:"w-full border rounded px-3 py-2",value:s.counterparty_type,onChange:t=>r("counterparty_type",t.target.value),children:[e.jsx("option",{value:"shop",children:"Shop"}),e.jsx("option",{value:"external",children:"External"}),e.jsx("option",{value:"customer",children:"Customer"}),e.jsx("option",{value:"vendor",children:"Vendor"})]}),a.counterparty_type&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:a.counterparty_type})]}),s.counterparty_type==="shop"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Shop"}),e.jsx("select",{className:"w-full border rounded px-3 py-2",value:s.counterparty_shop_id??"",onChange:t=>r("counterparty_shop_id",t.target.value),children:(l||[]).map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),a.counterparty_shop_id&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:a.counterparty_shop_id})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Counterparty Name"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:s.counterparty_name,onChange:t=>r("counterparty_name",t.target.value)}),a.counterparty_name&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:a.counterparty_name})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600 mb-1",children:"Notes"}),e.jsx("textarea",{className:"w-full border rounded px-3 py-2",rows:3,value:s.notes,onChange:t=>r("notes",t.target.value)}),a.notes&&e.jsx("div",{className:"text-sm text-red-600 mt-1",children:a.notes})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-60",children:"Save"}),e.jsx(d,{href:route("inventory.loans.index"),className:"px-4 py-2 bg-gray-100 rounded",children:"Cancel"})]})]})]})]})}export{v as default};

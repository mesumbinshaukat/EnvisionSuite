import{u as p,j as e,H as u,L as j}from"./app-D_5VtdBN.js";import{A as N}from"./AuthenticatedLayout-C5_-9XrC.js";import"./transition-BPfikZ3p.js";function y({auth:c,filters:a,revenue:x,expense:n,profit:l,rows:i}){const{data:t,setData:r,get:o,processing:m}=p({from:a.from,to:a.to}),h=s=>{s.preventDefault(),o(route("reports.accounting.profitLoss"),{preserveState:!0})};return e.jsxs(N,{user:c.user,children:[e.jsx(u,{title:"Profit & Loss"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Profit & Loss"}),e.jsx(j,{href:route("reports.accounting.profitLoss.export",t),className:"px-3 py-2 rounded bg-emerald-600 text-white hover:bg-emerald-700",children:"Export Excel"})]}),e.jsxs("form",{onSubmit:h,className:"bg-white shadow rounded p-4 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"From"}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:t.from,onChange:s=>r("from",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"To"}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:t.to,onChange:s=>r("to",s.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:m,children:"Apply"})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Revenue"}),e.jsx("div",{className:"text-2xl font-semibold",children:Number(x||0).toFixed(2)})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Expenses"}),e.jsx("div",{className:"text-2xl font-semibold",children:Number(n||0).toFixed(2)})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Net Profit"}),e.jsx("div",{className:`text-2xl font-semibold ${Number(l)>=0?"text-emerald-600":"text-red-600"}`,children:Number(l||0).toFixed(2)})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white shadow rounded overflow-x-auto",children:[e.jsx("div",{className:"px-4 py-2 font-medium",children:"Revenue Accounts"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Account"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:i.revenue.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.code}),e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2 text-right",children:Number(s.credit-s.debit).toFixed(2)})]},d))})]})]}),e.jsxs("div",{className:"bg-white shadow rounded overflow-x-auto",children:[e.jsx("div",{className:"px-4 py-2 font-medium",children:"Expense Accounts"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Account"}),e.jsx("th",{className:"px-4 py-2 text-right",children:"Amount"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:i.expense.map((s,d)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.code}),e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2 text-right",children:Number(s.debit-s.credit).toFixed(2)})]},d))})]})]})]})]})]})}export{y as default};

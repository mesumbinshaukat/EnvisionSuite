import{r as i,j as e,H as n}from"./app-PglbnTWg.js";import{A as p}from"./AuthenticatedLayout-zYqi1lD1.js";import{B as o,C as h,b as m,L as y,c as j,p as u,a as g}from"./index-iqnuezgt.js";import"./transition-DpwTkH_e.js";h.register(m,y,j,u,g);function w({auth:r,products:t,movements:l}){const c=i.useMemo(()=>{const s=t.data||[],d=s.map(a=>a.name),x=s.map(a=>a.stock??0);return{labels:d,datasets:[{label:"Stock",data:x,backgroundColor:"rgba(16,185,129,0.5)"}]}},[t]);return e.jsxs(p,{user:r.user,children:[e.jsx(n,{title:"Inventory Report"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Inventory Report"}),e.jsx("div",{className:"bg-white p-4 rounded shadow",children:e.jsx(o,{data:c})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded shadow overflow-x-auto",children:[e.jsx("div",{className:"p-4 font-semibold",children:"Products"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"SKU"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Stock"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"In Shop"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Lent Out"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(t.data||[]).map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2",children:s.sku}),e.jsx("td",{className:"px-4 py-2",children:s.stock}),e.jsx("td",{className:"px-4 py-2",children:s.in_shop??Math.max(0,(s.stock??0)-(s.lent_out??0))}),e.jsx("td",{className:"px-4 py-2",children:s.lent_out??0})]},s.id))})]})]}),e.jsxs("div",{className:"bg-white rounded shadow overflow-x-auto",children:[e.jsx("div",{className:"p-4 font-semibold",children:"Recent Movements"}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Product"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs text-gray-500 uppercase",children:"Date"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(l||[]).map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.product?.name??s.product_id}),e.jsx("td",{className:"px-4 py-2",children:s.type}),e.jsx("td",{className:"px-4 py-2",children:s.quantity_change}),e.jsx("td",{className:"px-4 py-2",children:new Date(s.created_at).toLocaleString()})]},s.id))})]})]})]})]})]})}export{w as default};

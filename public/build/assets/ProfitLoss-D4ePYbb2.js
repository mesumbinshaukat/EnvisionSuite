import{u as j,j as e,H as N,L as f}from"./app-BPLSlo03.js";import{T as t}from"./Tooltip-C55n0Qkv.js";import{A as g}from"./AuthenticatedLayout-Cq5jCDel.js";import{f as a}from"./currency-DO5TMxe2.js";import"./transition-wZ_MSpzK.js";function E({auth:x,filters:r,revenue:o,expense:m,profit:l,rows:c}){const{data:d,setData:n,get:h,processing:p}=j({from:r.from,to:r.to}),u=s=>{s.preventDefault(),h(route("reports.accounting.profitLoss"),{preserveState:!0})};return e.jsxs(g,{user:x.user,children:[e.jsx(N,{title:"Profit & Loss"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:["Profit & Loss",e.jsx(t,{text:"Shows Revenue minus all Expenses including computed COGS (purchase taxes/charges allocated). Period is based on From/To dates.",children:"i"})]}),e.jsx(f,{href:route("reports.accounting.profitLoss.export",d),className:"px-3 py-2 rounded bg-emerald-600 text-white hover:bg-emerald-700",children:"Export Excel"})]}),e.jsxs("form",{onSubmit:u,className:"bg-white shadow rounded p-4 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"From"}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:d.from,onChange:s=>n("from",s.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"To"}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:d.to,onChange:s=>n("to",s.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:p,children:"Apply"})})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:["Revenue",e.jsx(t,{text:"Sum of credit balances for revenue accounts within the selected period."})]}),e.jsx("div",{className:"text-2xl font-semibold",children:a(Number(o||0))})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:["Expenses",e.jsx(t,{text:"All expense accounts (debits) plus computed COGS from purchases, allocated per unit."})]}),e.jsx("div",{className:"text-2xl font-semibold",children:a(Number(m||0))})]}),e.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[e.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2",children:["Net Profit",e.jsx(t,{text:"Net Profit = Revenue - (Expenses + COGS)."})]}),e.jsx("div",{className:`text-2xl font-semibold ${Number(l)>=0?"text-emerald-600":"text-red-600"}`,children:a(Number(l||0))})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white shadow rounded overflow-x-auto",children:[e.jsxs("div",{className:"px-4 py-2 font-medium flex items-center gap-2",children:["Revenue Accounts",e.jsx(t,{text:"Each revenue account shows net credit (credit - debit) over the selected period."})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Account"}),e.jsxs("th",{className:"px-4 py-2 text-right",children:["Amount ",e.jsx(t,{text:"Net credit balance for the account in this period."})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.revenue.map((s,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.code}),e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2 text-right",children:a(Number(s.credit-s.debit))})]},i))})]})]}),e.jsxs("div",{className:"bg-white shadow rounded overflow-x-auto",children:[e.jsxs("div",{className:"px-4 py-2 font-medium flex items-center gap-2",children:["Expense Accounts",e.jsx(t,{text:"Each expense account shows net debit (debit - credit) over the selected period. COGS is appended as a computed expense."})]}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:"Code"}),e.jsx("th",{className:"px-4 py-2 text-left",children:"Account"}),e.jsxs("th",{className:"px-4 py-2 text-right",children:["Amount ",e.jsx(t,{text:"Net debit balance for the account in this period."})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.expense.map((s,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:s.code}),e.jsx("td",{className:"px-4 py-2",children:s.name}),e.jsx("td",{className:"px-4 py-2 text-right",children:a(Number(s.debit-s.credit))})]},i))})]})]})]})]})]})}export{E as default};

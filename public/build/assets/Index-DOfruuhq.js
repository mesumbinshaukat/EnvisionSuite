import{u as m,a as j,r as y,j as e,H as v,L as d}from"./app-BpbEyoxA.js";import{A as b}from"./AuthenticatedLayout-eYnlr3pS.js";import"./transition-GXVTtJgq.js";import"./HelpInjector-BdYANK49.js";import"./InfoIcon-BKj8MgZu.js";function q({auth:i,filters:a,accounts:l,balances:n}){const{t:s,currency:o}=m(),{data:c,setData:r,get:x}=j({q:a?.q||"",status:a?.status||"all",type:a?.type||""}),u=t=>{t.preventDefault(),x(route("accounts.index"),{preserveState:!0,preserveScroll:!0})},h=y.useMemo(()=>[{value:"",label:s("all")},{value:"asset",label:s("assets")||"Assets"},{value:"liability",label:s("liabilities")||"Liabilities"},{value:"equity",label:s("equity_dashboard")||"Equity"},{value:"revenue",label:s("revenue")||"Revenue"},{value:"expense",label:s("expenses")||"Expenses"}],[s]);return e.jsxs(b,{user:i.user,children:[e.jsx(v,{title:`${s("accounts")}`}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-xl font-semibold",children:s("accounts")})}),e.jsxs("form",{onSubmit:u,className:"bg-white shadow rounded p-4 grid md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm",children:s("search")}),e.jsx("input",{value:c.q,onChange:t=>r("q",t.target.value),placeholder:s("account_name"),className:"mt-1 w-full border-gray-300 rounded"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:s("status")}),e.jsxs("select",{value:c.status,onChange:t=>r("status",t.target.value),className:"mt-1 w-full border-gray-300 rounded",children:[e.jsx("option",{value:"all",children:s("all")}),e.jsx("option",{value:"open",children:s("open")}),e.jsx("option",{value:"closed",children:s("closed")})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:s("type_label")}),e.jsx("select",{value:c.type,onChange:t=>r("type",t.target.value),className:"mt-1 w-full border-gray-300 rounded",children:h.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:s("filter")})})]}),e.jsx("div",{className:"bg-white shadow rounded overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left",children:s("account_code")}),e.jsx("th",{className:"px-4 py-2 text-left",children:s("account_name")}),e.jsx("th",{className:"px-4 py-2 text-left",children:s("account_type")}),e.jsx("th",{className:"px-4 py-2 text-left",children:s("status")}),e.jsx("th",{className:"px-4 py-2 text-right",children:s("balance")||"Balance"}),e.jsx("th",{className:"px-4 py-2 text-right",children:s("actions")})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:l.data.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:t.code}),e.jsx("td",{className:"px-4 py-2",children:t.name}),e.jsx("td",{className:"px-4 py-2 capitalize",children:t.type}),e.jsx("td",{className:"px-4 py-2",children:t.is_closed?s("closed"):s("open")}),e.jsx("td",{className:"px-4 py-2 text-right",children:o(n[t.id]??0)}),e.jsxs("td",{className:"px-4 py-2 text-right space-x-2",children:[e.jsx(d,{href:route("accounts.show",t.id),className:"px-2 py-1 text-indigo-700 hover:underline",children:s("view_history")}),e.jsx(d,{as:"button",method:"delete",href:route("accounts.destroy",t.id),className:"px-2 py-1 text-red-700 hover:underline",onBefore:p=>{confirm(s("delete_account_confirm"))||p.preventDefault()},children:s("delete")})]})]},t.id))})]})}),e.jsx("div",{className:"text-xs text-gray-500",children:s("page_of",{current:l.current_page,last:l.last_page})})]})]})}export{q as default};

import{u as h,j as e,H as p,L as j}from"./app-DOMoObF9.js";import{T as s}from"./Tooltip-B2Roeb9z.js";import{A as f}from"./AuthenticatedLayout-CyyCBi49.js";import{f as i}from"./currency-DO5TMxe2.js";import"./transition-DNtpkwaD.js";function w({auth:c,filters:d,entries:r}){const{data:l,setData:o,get:n,processing:x}=h({from:d.from,to:d.to}),m=t=>{t.preventDefault(),n(route("reports.accounting.journals"),{preserveState:!0})};return e.jsxs(f,{user:c.user,children:[e.jsx(p,{title:"Journals"}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:["Journals",e.jsx(s,{text:"Shows all journal entries within the selected date range. Each row displays a journal line with its account and debit/credit amounts."})]}),e.jsx(j,{href:route("reports.accounting.journals.export",l),className:"px-3 py-2 rounded bg-emerald-600 text-white hover:bg-emerald-700",children:"Export Excel"})]}),e.jsxs("form",{onSubmit:m,className:"bg-white shadow rounded p-4 grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"From"}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:l.from,onChange:t=>o("from",t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"To"}),e.jsx("input",{type:"date",className:"mt-1 w-full border-gray-300 rounded",value:l.to,onChange:t=>o("to",t.target.value)})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:x,children:"Apply"})})]}),e.jsx("div",{className:"bg-white shadow rounded overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsxs("th",{className:"px-4 py-2 text-left",children:["Date ",e.jsx(s,{text:"Journal entry date."})]}),e.jsxs("th",{className:"px-4 py-2 text-left",children:["Memo ",e.jsx(s,{text:"Short description for the journal entry."})]}),e.jsxs("th",{className:"px-4 py-2 text-left",children:["Account ",e.jsx(s,{text:"Account code and name affected by this line."})]}),e.jsxs("th",{className:"px-4 py-2 text-right",children:["Debit ",e.jsx(s,{text:"Debit amount posted to the account."})]}),e.jsxs("th",{className:"px-4 py-2 text-right",children:["Credit ",e.jsx(s,{text:"Credit amount posted to the account."})]})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.data.flatMap(t=>t.lines.map((a,u)=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-2",children:t.date}),e.jsx("td",{className:"px-4 py-2",children:t.memo||"-"}),e.jsx("td",{className:"px-4 py-2",children:a.account?`${a.account.code} ${a.account.name}`:"-"}),e.jsx("td",{className:"px-4 py-2 text-right",children:i(Number(a.debit||0))}),e.jsx("td",{className:"px-4 py-2 text-right",children:i(Number(a.credit||0))})]},`${t.id}-${u}`)))})]})}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Page ",r.current_page," of ",r.last_page]})]})]})}export{w as default};

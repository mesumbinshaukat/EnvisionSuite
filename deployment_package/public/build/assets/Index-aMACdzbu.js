import{b as o,a as h,j as e,H as p,L as u}from"./app-DUaT__wH.js";import{A as m}from"./AuthenticatedLayout-BRA9NZV-.js";import"./transition-7jmKK-Rq.js";import"./HelpInjector-BCvt9IJE.js";import"./InfoIcon-ISLSAj6V.js";function _({purchases:r,vendors:l=[],products:n=[],filters:t={}}){const{props:j}=o(),{data:s,setData:d,get:i}=h({vendor_id:t.vendor_id||"",status:t.status||"",product_id:t.product_id||"",start_date:t.start_date||"",end_date:t.end_date||""}),x=a=>{a.preventDefault(),i(route("purchases.index"),{preserveScroll:!0,preserveState:!0})};return e.jsxs(m,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Purchases"}),children:[e.jsx(p,{title:"Purchases"}),e.jsxs("div",{className:"mx-auto max-w-7xl p-6 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end gap-4 flex-wrap",children:[e.jsx(u,{href:route("purchases.create"),className:"rounded bg-indigo-600 px-4 py-2 text-white hover:bg-indigo-700",children:"New Purchase"}),e.jsxs("form",{onSubmit:x,className:"flex items-end gap-2 flex-wrap",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Vendor"}),e.jsxs("select",{className:"rounded border-gray-300 text-sm",value:s.vendor_id,onChange:a=>d("vendor_id",a.target.value),children:[e.jsx("option",{value:"",children:"All"}),l.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Status"}),e.jsxs("select",{className:"rounded border-gray-300 text-sm",value:s.status,onChange:a=>d("status",a.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"unpaid",children:"Unpaid"}),e.jsx("option",{value:"partial",children:"Partial"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"paid",children:"Paid"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"Product"}),e.jsxs("select",{className:"rounded border-gray-300 text-sm",value:s.product_id,onChange:a=>d("product_id",a.target.value),children:[e.jsx("option",{value:"",children:"All"}),n.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"From"}),e.jsx("input",{type:"date",className:"rounded border-gray-300 text-sm",value:s.start_date,onChange:a=>d("start_date",a.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600",children:"To"}),e.jsx("input",{type:"date",className:"rounded border-gray-300 text-sm",value:s.end_date,onChange:a=>d("end_date",a.target.value)})]}),e.jsx("button",{type:"submit",className:"rounded bg-gray-100 px-3 py-2 text-sm",children:"Filter"})]})]}),e.jsxs("div",{className:"overflow-x-auto rounded bg-white p-4 shadow",children:[e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left",children:"#"}),e.jsx("th",{className:"px-2 py-2",children:"Vendor"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Grand Total"}),e.jsx("th",{className:"px-2 py-2 text-right",children:"Paid"}),e.jsx("th",{className:"px-2 py-2",children:"Status"}),e.jsx("th",{className:"px-2 py-2",children:"Date"})]})}),e.jsx("tbody",{children:r.data.map(a=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-2 py-2",children:a.id}),e.jsx("td",{className:"px-2 py-2",children:a.vendor?.name??a.vendor_name??"-"}),e.jsx("td",{className:"px-2 py-2 text-right",children:a.grand_total}),e.jsx("td",{className:"px-2 py-2 text-right",children:a.amount_paid}),e.jsx("td",{className:"px-2 py-2",children:a.status}),e.jsx("td",{className:"px-2 py-2",children:new Date(a.created_at).toLocaleString()})]},a.id))})]}),r?.links&&e.jsx("div",{className:"p-3 border-t flex gap-2 flex-wrap",children:r.links.map((a,c)=>e.jsx("a",{href:a.url||"#",className:`px-2 py-1 rounded ${a.active?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700"} ${a.url?"":"opacity-60 pointer-events-none"}`,dangerouslySetInnerHTML:{__html:a.label}},c))})]})]})]})}export{_ as default};
